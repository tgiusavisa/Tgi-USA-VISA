{% extends "base.html" %}
{% block content %}
<style>
    .carousel-caption {
         position: absolute;
         left: 0;
         right: 0;
         bottom: 0;
         padding: 2rem 1.5rem;
         background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.5) 50%, transparent 100%);
         text-align: left;
     }
     .main-hero-container{
         height:85vh;
     }
     /* Add this to your CSS */
    .col-4.position-fixed {
        transition: right 2s ease-out; /* Smooth movement */
    }

    @media (max-width: 768px) {
        .col-4.position-fixed {
            right: 1% !important; /* Force mobile position */
        }
    }
     @media (min-width: 768px) {
         .carousel-caption {
             padding: 3rem 2.5rem;
             background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 60%, transparent 100%);
         }
    }
</style>
<main class='w-100 p-0 m-0 position-relative'> 
    <div class="main-hero-container container mt-4 main-form-desktop">
        <div class="row justify-content-between" style='height:65vh;'>
            <div class="col-8">
              <div id="carouselExampleSlidesOnly" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2000">
              <div class="carousel-inner rounded-5 border">
                {% for slider in home.hero_sliders.all %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <img src="{{ slider.image.url }}" class="d-block w-100" alt="{{ slider.heading }}" style='height:65vh; width:100%; object-fit:cover;'>
                    <div class="carousel-caption d-none d-md-block pt-0 pb-1">
                        <div class='text-white fw-bolder fs-4 ms-2'>
                            <span id="visitor-count">{{ visitor_count }}</span>+ 
                            <span class='fs-6 fw-normal'>Visitors</span>
                        </div>
                        <h2 class='fs-2 text-white fw-bold'>{{ slider.heading }}</h2>
                        {% if slider.subheading %}
                        <p class='text-white'>{{ slider.subheading }}</p>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
              </div>
            </div>
            <div class='text-center fw-bolder fs-2 main-heading rounded-5 p-2 text-dark mt-4' style='background-color: #FFC107; padding-bottom:1px !important;'>Guaranteed Visa Appointment Scheduled Within 1 to 6 Weeks</div>
        </div>
            <div class="col-4 position-fixed bg-white rounded-4 pb-3 pt-2 border border-gray shadow-sm main-form" style=' z-index:1000; top:9%; right:1%;'>
              <div class='fw-bolder fs-6 main-heading text-center'>SPECIAL OFFER: FREE 5-Star Quality Training and Guidance + Personalized Document Checklist</div>
                <form form id="appointmentForm" class="container row justify-content-center m-0 p-0">
                    <div class="col-6 mt-1 mb-1">
                        <label class='ps-1 pb-1'>Visa Category</label>
                        <div class="d-flex">
                            <span class="input-group-text form-img form-sec-01 form-border1">
                              <img src="/static/images/icons/visa.svg" alt="Visa" class='rounded'/>
                            </span>
                            <select class="form-select form-control form-sec-01 fs-6 form-border2" id="visa">
                                <option value="" selected disabled id="defaultOption">Visa Category</option>
                                <option value="B1B2-Visa">B1B2 Visa</option>
                                <option value="B1B2-Visa Dropbox">B1B2 Visa Dropbox</option>
                                <option value="C1d-Visa">C1d- fresh or Dropbox</option>                                
                                <option value="H1b/H4-Visa">H1b/H4- Fresh or Dropbox</option>                                
                                <option value="F1/F2-Visa">F1/F2- fresh or dropbox</option>                                
                                <option value="L1/L2-Visa">L1/L2- Fresh or Dropbox</option>                                
                                <option value="Blanket-L1-Visa">Blanket L1 Visa</option>                                
                                <option value="Blanket-L2-Visa-Drop-visa">Blanket L2 Visa Drop/Fresh</option>
                                <option value="Immigration-Visa">Immigration Visa Any category</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-6 mt-1 mb-1">
                        <label class='ps-1 pb-1'>Service Type</label>
                        <div class="d-flex">
                            <span class="input-group-text form-img form-sec-01 form-border1">
                              <img src="/static/images/icons/services.svg" alt="Services" class='rounded'/>
                            </span>
                            <select class="form-select form-control form-sec-01 fs-6 form-border2" id="services">
                                <option value="" selected disabled id="defaultOption">Service Type</option>
                                <option value="Only-Slot-Booking">Only Slot Booking</option>
                                <option value="Only-Normal-Process">Only Normal Process</option>
                                <option value="Express-Dates">Express Dates</option>
                                <option value="Full-Process-Dates">Full Process & Dates</option>
                                <option value="Full-Process-Express-Dates">Full Process & Express Dates</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-6 mt-1 mb-1">     
                    <label class='ps-1 pb-1'>Appointment Location</label>                                                                                                                                                                                                                                                                                                                                   
                    <div class="d-flex">
                        <span class="input-group-text form-img form-sec-01 form-border1">
                          <img src="/static/images/icons/appointment.svg" alt="Visa" class='rounded'/>
                        </span>
                        <select class="form-select form-control form-sec-01 fs-6 form-border2" id="appointmentLocation">
                            <option value="" selected disabled id="defaultOption">Appointment Location</option>
                            <option value="Pan-India">Pan India</option>
                            <option value="Chennai-Only">Chennai Only</option>
                            <option value="Mumbai-Both-Dates">Mumbai-(Both Dates)</option>
                            <option value="Mumbai-Delhi-Hydrabad-Chennai-Kolkata">Mumbai, Delhi, Hydrabad, Chennai, Kolkata</option>
                            <option value="Mumbai/Location-of-Your-Choice">Mumbai/Location of Your Choice</option>
                            <option value="Location-of-your-choice/Hydrabad-Chennai">Location of your Choice/Hydrabad or Chennai</option>
                        </select>
                    </div>
                    </div>
                    <div class="col-6 mt-1 mb-1">
                        <label class='ps-1 pb-1'>Travellers</label>
                        <div class="d-flex">
                            <span class="input-group-text form-img form-sec-01 form-border1">
                                <img src="/static/images/icons/group.svg" alt="Group" class='rounded'/>
                            </span>
                            <input type="text" class="form-control form-sec-01 rounded-0" style="border: 1.2px solid rgba(0, 0, 0, 0.5); border-left: none !important; border-right: none;" id="travellers" placeholder="Traveller" value="1" readonly>
                            <span class="input-group-text form-img form-sec-01 form-border2">
                                <button class="btn btn-sm p-0 minus-btn">
                                    <img src="/static/images/icons/minus.svg" alt="Minus" style='width:15px !important; object-fit:contain !important;'/>
                                </button>
                                <span class="mx-2 fw-bold fs-6 traveller-count">1</span>
                                <button class="btn btn-sm p-0 plus-btn">
                                    <img src="/static/images/icons/plus.svg" alt="Add" style='width:15px !important; object-fit:contain !important;'/>
                                </button>
                            </span>
                        </div>
                    </div>
                    <div class='mt-2'>
                        <div class='d-flex justify-content-between w-100'>
                            <p class=' w-25 text-center fw-bolder fs-6 rounded-pill ps-2 pe-2 m-1 text-dark' style='background-color: #FFC107; padding-bottom:1px !important;'>Price<p>
                            <p class=' w-75 text-end fw-bold fs-6ps-2 pe-2 m-1 text-dark'>Govt. Fees Not Included<p>
                        </div>
                        <ul class='m-0 p-0'>
                            <li class='fs-6 d-flex flex-row align-item-center justify-content-between m-1'><span style='font-weight:500;'>Pay Now</span><span id="payNowAmount">Rs. 9,999 x 1</span></li>
                            <li class='fs-6 d-flex flex-row align-item-center justify-content-between m-1'><span style='font-weight:500;'>Processing Fees</span><span id="ProcessingFees">Rs. 0</span></li>
                            <li class='fs-6 d-flex flex-row align-item-center justify-content-between m-1'><span style='font-weight:500;'>Express Date</span><span id="ExpressDate">Rs. 0</span></li>
                            <li class='fs-6 d-flex flex-row align-item-center justify-content-between m-1'><span style='font-weight:500;'>Inteview Training</span><span class='rounded-pill ps-2 pe-2 text-dark' style='background-color: #FFC107; padding-bottom:1px !important;'>Free</span></li>
                            <li class='fs-6 d-flex flex-row align-item-center justify-content-between m-1'><span style='font-weight:500;'>Document Checklikst</span><span class='rounded-pill ps-2 pe-2 text-dark' style='background-color: #FFC107; padding-bottom:1px !important;'>Free</span></li>
                            <li class='fs-6 d-flex flex-row align-item-center justify-content-between m-1'><span style='font-weight:500;'>DS160 Form Review & Suggestion</span><span class='rounded-pill ps-2 pe-2 text-dark' style='background-color: #FFC107; padding-bottom:1px !important;'>Free</span></li>
                            <li class='fs-6 d-flex flex-row align-item-center justify-content-between m-1'><span style='font-weight:500;'>24/7 Assistance</span><span class='rounded-pill ps-2 pe-2 text-dark' style='background-color: #FFC107; padding-bottom:1px !important;'>Free</span></li>
                            <div class='w-100 d-flex flex-row align-item-center justify-content-center mt-2 mb-2'><div class='line'></div></div>
                            <li class='fs-6 fw-bold d-flex flex-row align-item-center justify-content-between'><span>Pay later</span><span id="payLaterAmount">Rs. 4,999 x 1</span></li>
                            <li class='fs-6 fw-bold d-flex flex-row align-item-center justify-content-between'><span>Total Amount</span><span id="totalAmount">Rs. 9,999/-</span></li>
                        </ul>
                    <div>
                    <button type="button" onclick="submitAppointmentForm()" class='mt-3 w-100 text-decoration-none align-items-center justify-content-center d-flex rounded-pill fw-bold pt-1 pb-1  button2 text-dark border-2 fs-5' style='background:#FFC107 !important;'>
                        Book Appointment
                    </button>
                </form>
                </div>
            </div>
            </div>
        </div>
        </div>
    </div>
    <div class='container main-form-desktop'>
        <div class='main-aboutsection w-100 row mt-5 mb-5'>
            {% for item in home.about_us.all %}
                <div class='col-7'>
                    <div class='fw-bolder fs-2 main-heading'>{{ item.heading }}</div>
                    <div class='line mb-2 ms-2 w-25'></div>
                    <p class="text-break">{{ item.description|safe }}</p>
                    <a href="/about/" class='w-25  text-decoration-none align-items-center justify-content-center d-flex rounded-pill fw-bold pt-2 pb-2  button2 text-dark border-2'  style='border: 2px solid #FFC107 !important; background:#FFC107 !important'>
                        Know More
                    </a>
                </div>
              {% comment %} <div class='sec2 col-4'>
                  <img src="{{ item.image.url }}" alt="{{ item.heading }}"/>
              </div> {% endcomment %}
            {% endfor %}
        </div>
    </div>
    <div class='container'>
       <div class='main-aboutsection w-100 row mt-5 mb-5'>
           <div class='col-7'>
               <script src="https://static.elfsight.com/platform/platform.js" async></script>
               <div class="elfsight-app-49b6fc6d-283c-450f-b610-12d4a1b6f54b" data-elfsight-app-lazy></div>
           </div>
       </div>
    </div>
    <div class='container w-100 mt-5 mb-5 main-form-desktop'>
        <div class='col-7'>
            <div class='fw-bolder fs-2 main-heading'>25+ Years old Company</div>
            <div class='line mb-2 ms-2'></div>
            <div class="container">
              <div class="row row-cols-2">
                  {% for highlight in home.highlights.all %}
                  <div class="col old-company-sec m-2 d-flex flex-column justify-content-center align-items-center">
                      <div class='inc text-break fs-2 fw-bold'>{{ highlight.number }}</div>
                      <div class='inc text-break fs-6 fw-bold text-center'>{{ highlight.heading }}</div>
                  </div>
                  {% endfor %}
              </div>
            </div>
        </div>
    </div>
    <div class='container w-100 mt-5 main-form-mobile'>
        <div class='col'>
            <div class='col bg-white d-flex flex-column justify-content-center align-items-center'>
                <div class='fw-bolder fs-2 main-heading'>25+ Years old Company</div>
                <div class='line m-3'></div>
            </div>
            <div class="container">
              <div class="row row-cols-2 d-flex justify-content-evenly align-items-center">
                  {% for highlight in home.highlights.all %}
                  <div class="col old-company-sec d-flex flex-column justify-content-center align-items-center">
                      <div class='inc text-break fs-2 fw-bold'>{{ highlight.number }}</div>
                      <div class='inc text-break fs-6 fw-bold text-center'>{{ highlight.heading }}</div>
                  </div>
                  {% endfor %}
              </div>
            </div>
        </div>
    </div>
    <div class='container main-form-mobile'>
        <div class='main-aboutsection w-100  mt-5 mb-5'>
            {% for item in home.about_us.all %}
                <div class='sec3 col mb-4'>
                    <img src="{{ item.image.url }}" alt="{{ item.heading }}"/>
                </div>
                <div class='col'>
                    <div class='d-flex flex-column justify-content-center align-items-center'>
                      <div class='fw-bolder fs-2 main-heading'>{{ item.heading }}</div>
                      <div class='line mb-2 ms-2 w-25'></div>
                    </div>
                    <p class="text-break">{{ item.description|safe }}</p>
                    <a href="/about/" class='w-100  text-decoration-none align-items-center justify-content-center d-flex rounded-pill fw-bold pt-2 pb-2  button2 text-dark border-2'  style='border: 2px solid #FFC107 !important;'>
                        Know More
                    </a>
                </div>
            {% endfor %}
        </div>
    </div>
    <div class='container'>
        <div class='main-aboutsection w-100 row mt-5 mb-5'>
            <div class='col-7'>
                <script src="https://static.elfsight.com/platform/platform.js" async></script>
                <div class="elfsight-app-f477541d-1e5c-46bb-9796-ef5760709fac" data-elfsight-app-lazy></div>
            </div>
        </div>
    </div>
    {% comment %} <div class='container w-100 position-relative' id="tabs-container">
    <!-- Tab Buttons -->
    <div class='w-50 main-form-desktop'>
        <div class='w-100 m-auto d-flex flex-row justify-content-between'>
            <button class='tab-btn active rounded-pill fw-bold pt-2 pb-2 ps-4 pe-4 text-dark border-2 fs-6' data-tab="mission">
                Our Mission
            </button>
            <button class='tab-btn rounded-pill fw-bold pt-2 pb-2 ps-4 pe-4 text-dark border-2 fs-6' data-tab="vision">
                Our Vision
            </button>
            <button class='tab-btn rounded-pill fw-bold pt-2 pb-2 ps-4 pe-4 text-dark border-2 fs-6' data-tab="goal">
                Our Goal
            </button>
        </div>
    </div>
    <div class='w-100 main-form-mobile'>
        <div class='w-100 m-auto d-flex flex-row justify-content-between'>
            <button class='tab-btn active rounded-pill fw-bold pt-2 pb-2 ps-4 pe-4 text-dark border-2 fs-6' data-tab="mission">
                Our Mission
            </button>
            <button class='tab-btn rounded-pill fw-bold pt-2 pb-2 ps-4 pe-4 text-dark border-2 fs-6' data-tab="vision">
                Our Vision
            </button>
            <button class='tab-btn rounded-pill fw-bold pt-2 pb-2 ps-4 pe-4 text-dark border-2 fs-6' data-tab="goal">
                Our Goal
            </button>
        </div>
    </div>

    <!-- Tab Contents -->
    <div class="tab-contents">
        <!-- Mission Tab -->
        <div class='tab-content active' id="mission">
            <div class='w-100 our-thinksection d-flex flex-column align-items-center'>
                <div class='w-100'>
                    <div class='container w-100 mt-3'>
                      {% for item in home.our_mission.all %}
                        <div class='col-7 about-container-mobile'>
                            <div class='mobile-section2'>
                                <div class='fw-bolder fs-2 main-heading'>{{item.heading}}</div>
                                <div class='line mb-2 ms-2 w-25'></div>
                            </div>
                          <p class="text-break">{{item.description | safe}}</p>
                          <div class='w-25 d-flex flex-row justify-content-between align-items-center'>
                              <button class='nav-arrow left-arrow bg-transparent btn-link btn p-0 m-0'>
                                  <svg viewBox="0 0 24 24" fill="currentColor" class="svg-icon">
                                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                                  </svg>
                              </button>
                              <button class='nav-arrow right-arrow bg-transparent btn-link btn p-0 m-0'>
                                  <svg viewBox="0 0 24 24" fill="currentColor" class="svg-icon" style='transform: scaleX(-1);'>
                                    <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                                  </svg>
                              </button>
                          </div>
                        </div> {% endcomment %}
                        {% comment %} <div class='sec2'>
                            <img src="{{ item.image.url }}" alt="{{ item.heading }}" class='object-fit-contain'/>
                        </div> {% endcomment %}
                      {% comment %} {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Vision Tab -->
        <div class='tab-content' id="vision">
            <div class='w-100 our-thinksection d-flex flex-column align-items-center'>
                <div class='w-100'>
                    <div class='main-aboutsection w-100 mt-3'>
                      {% for item in home.Our_vision.all %}
                        <div class='col-7 about-container-mobile'>
                            <div class='mobile-section2'>
                                <div class='fw-bolder fs-2 main-heading'>{{ item.heading }}</div>
                                <div class='line mb-2 ms-2 w-25'></div>
                            </div>
                            <p class="text-break">{{ item.description | safe }}</p>
                            <div class='w-25 d-flex flex-row justify-content-between align-items-center'>
                                <button class='nav-arrow left-arrow bg-transparent btn-link btn p-0 m-0'>
                                    <svg viewBox="0 0 24 24" fill="currentColor" class="svg-icon">
                                      <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                                    </svg>
                                </button>
                                <button class='nav-arrow right-arrow bg-transparent btn-link btn p-0 m-0'>
                                    <svg viewBox="0 0 24 24" fill="currentColor" class="svg-icon" style='transform: scaleX(-1);'>
                                      <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                                    </svg>
                                </button>
                            </div>
                        </div> {% endcomment %}
                        {% comment %} <div class='sec2'>
                            <img src="{{ item.image.url }}" alt="{{ item.heading }}" class='object-fit-contain'/>
                        </div> {% endcomment %}
                        {% comment %} {% endfor %}
                    </div>
                </div>
            </div>
        </div>

        <!-- Goal Tab -->
        <div class='tab-content' id="goal">
            <div class='w-100 our-thinksection d-flex flex-column align-items-center'>
                <div class='w-100'>
                    <div class='main-aboutsection w-100 mt-3'>
                      {% for item in home.our_goals.all %}
                        <div class='col-7 about-container-mobile'>
                            <div class='mobile-section2'>
                                <div class='fw-bolder fs-2 main-heading'>{{ item.heading }}</div>
                                <div class='line mb-2 ms-2 w-25'></div>
                            </div>
                            <p class="text-break">{{ item.description | safe }}</p>
                            <div class='w-25 d-flex flex-row justify-content-between align-items-center'>
                                <button class='nav-arrow left-arrow bg-transparent btn-link btn p-0 m-0'>
                                    <svg viewBox="0 0 24 24" fill="currentColor" class="svg-icon">
                                      <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                                    </svg>
                                </button>
                                <button class='nav-arrow right-arrow bg-transparent btn-link btn p-0 m-0'>
                                    <svg viewBox="0 0 24 24" fill="currentColor" class="svg-icon" style='transform: scaleX(-1);'>
                                      <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
                                    </svg>
                                </button>
                            </div>
                        </div> {% endcomment %}
                        {% comment %} <div class='sec2'>
                            <img src="{{ item.image.url }}" alt="{{ item.heading }}" class='object-fit-contain'/>
                        </div> {% endcomment %}
                        {% comment %} {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> {% endcomment %}
<div class='container w-100 have-questions pt-5 main-form-desktop'>
    <div class='col-7 bg-white'>
        <div class='fw-bolder fs-2 main-heading'>Have Questions or Need Further Information?</div>

        <div class='line m-3 '></div>
    </div>
    <div class='col-7'>
        <form id="contactForm" method="POST" action="{% url 'index' %}">
            {% csrf_token %}
            <div class="d-flex flex-row justify-content-between">    
                <div class="input-group w-50 p-3">
                    <span class="input-group-text form-img form-sec-01" style="border-radius: 12px 0 0 12px; border: 1.2px solid rgba(0, 0, 0, 0.5); border-right: none !important">
                        <img src="/static/images/icons/account.svg" class='rounded'/>
                    </span>
                    <input type="text" name="full_name" class="form-control form-sec-01 fs-5" style="border-radius: 0 12px 12px 0; border: 1.2px solid rgba(0, 0, 0, 0.5); border-left: none !important" placeholder="Full Name">
                </div>
                <div class="input-group w-50 p-3">
                    <span class="input-group-text form-img form-sec-01" style="border-radius: 12px 0 0 12px; border: 1.2px solid rgba(0, 0, 0, 0.5); border-right: none !important">
                        <img src="/static/images/icons/email.svg" class='rounded'/>
                    </span>
                    <input type="email" name="email" class="form-control form-sec-01 fs-5" style="border-radius: 0 12px 12px 0; border: 1.2px solid rgba(0, 0, 0, 0.5); border-left: none !important" placeholder="Email Address">
                </div>
            </div>
            <div class="d-flex flex-row justify-content-between">    
                <div class="input-group w-100 p-3 pt-0 pb-0">
                    <textarea rows="4" name="query" class="form-control form-sec-01 fs-5" style="border-radius: 12px; border: 1.2px solid rgba(0, 0, 0, 0.5);" placeholder="Please Enter Your Query ..."></textarea>
                </div>
            </div>
            <div class="w-100 d-flex flex-column justify-content-center align-items-center">
                <button type="submit" class="mt-3 w-50 text-center text-decoration-none align-items-center justify-content-center d-flex rounded-pill fw-bold pt-2 pb-2  button2 text-dark border-2 fs-5">
                    Submit Query
                </button>
                <p class="text-break text-center mt-3">
                    We only share our details with our trusted team members! <br>Terms & Conditions 
                </p>
            </div>
        </form>
    </div>

    <div class='container w-100 have-questions pt-5 main-form-desktop'>
        <div class='col-7 bg-white'>
            <div class='fw-bolder fs-2 main-heading'>Frequently Asked Questions</div>
            <div class='line m-3 '></div>
        </div>
        <div class='col-7'>
            <div class="accordion" id="accordionFaq">
                {% for faq in home.faq.all %}
                <div class="accordion-item mb-3 rounded-4" style='background-color: rgba(255, 221, 0, 0.29); border: 1.5px solid #FFC107;'>
                    <h2 class="accordion-header" id="heading{{ forloop.counter }}">
                        <button class="accordion-button {% if not forloop.first %}collapsed{% endif %} border-0 shadow-none bg-transparent" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#collapse{{ forloop.counter }}" 
                                aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}" 
                                aria-controls="collapse{{ forloop.counter }}">
                            <span class='fw-bolder fs-4 main-heading text-dark'>{{ faq.heading }}</span>
                        </button>
                    </h2>
                    <div id="collapse{{ forloop.counter }}" 
                         class="accordion-collapse collapse {% if forloop.first %}show{% endif %}" 
                         aria-labelledby="heading{{ forloop.counter }}" 
                         data-bs-parent="#accordionFaq">
                        <div class="accordion-body">
                            {{ faq.description|safe }}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    <div class='container w-100 have-questions pt-5 main-form-mobile'>
        <div class='col bg-white d-flex flex-column justify-content-center align-items-center'>
            <div class='fw-bolder fs-2 main-heading'>Frequently Asked Questions</div>
            <div class='line m-3 '></div>
        </div>
        <div class='col'>
            <div class="accordion" id="accordionFaq">
                {% for faq in home.faq.all %}
                <div class="accordion-item mb-3 rounded-4" style='background-color: rgba(255, 221, 0, 0.29); border: 1.5px solid #FFC107;'>
                    <h2 class="accordion-header" id="heading{{ forloop.counter }}">
                        <button class="accordion-button {% if not forloop.first %}collapsed{% endif %} border-0 shadow-none bg-transparent" 
                                type="button" 
                                data-bs-toggle="collapse" 
                                data-bs-target="#collapse{{ forloop.counter }}" 
                                aria-expanded="{% if forloop.first %}true{% else %}false{% endif %}" 
                                aria-controls="collapse{{ forloop.counter }}">
                            <span class='fw-bolder fs-4 main-heading text-dark'>{{ faq.heading }}</span>
                        </button>
                    </h2>
                    <div id="collapse{{ forloop.counter }}" 
                         class="accordion-collapse collapse {% if forloop.first %}show{% endif %}" 
                         aria-labelledby="heading{{ forloop.counter }}" 
                         data-bs-parent="#accordionFaq">
                        <div class="accordion-body">
                            {{ faq.description|safe }}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- Add this at the end of your body -->
    <div class="chatbot-wrapper">
      <!-- Chatbot Toggle Button -->
      <button id="chatbot-toggle" class="btn btn-warning chatbot-toggle-btn rounded-circle shadow" title="Chat with us">
        <i class="bi bi-chat-dots fs-4"></i>
        <span class="position-absolute top-0 start-100 translate-middle p-1 bg-danger border border-light rounded-circle">
          <span class="visually-hidden">New alerts</span>
        </span>
      </button>
    
      <!-- Chatbot Container -->
      <div id="chatbot-container" class="card shadow-lg">
        <div class="card-header bg-warning d-flex justify-content-between align-items-center">
          <span class="fw-bold">Chat Assistant</span>
          <div>
            <button id="chatbot-minimize" class="btn btn-sm btn-outline-dark me-2">âˆ’</button>
            <button id="chatbot-close" class="btn btn-sm btn-outline-dark">Ã—</button>
          </div>
        </div>
        <div id="chatbot-messages" class="card-body p-3 bg-light overflow-auto"></div>
        <div class="card-footer bg-white p-3">
          <div class="input-group">
            <input type="text" id="chatbot-user-input" class="form-control" placeholder="Type your question...">
            <button id="chatbot-send" class="btn btn-warning">Send</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal HTML -->
<!-- Thank You Modal -->
<div class="modal fade" id="thankYouModal" tabindex="-1" aria-labelledby="thankYouModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center">
      <div class="modal-header border-0">
        <h5 class="modal-title w-100" id="thankYouModalLabel">Thank you!</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body fs-5">
        Thanks for Sharing Query.<br>
        Our team will contact you very soon.
      </div>
    </div>
  </div>
</div>




    <!-- Show modal only if redirected after POST -->
    {% comment %} {% if request.GET.thanks == '1' %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var thankYouModal = new bootstrap.Modal(document.getElementById('thankYouModal'));
            thankYouModal.show();
        });
    </script>
    {% endif %} {% endcomment %}

</main>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('contactForm');
    if (!form) return;
    form.addEventListener('submit', function(e) {
        e.preventDefault();

        const formData = new FormData(form);

        // Fetch CSRF token
        const csrfToken = document.querySelector('[name=csrfmiddlewaretoken]').value;

        fetch(form.action, {
            method: 'POST',
            body: formData,
            headers: {
                'X-Requested-With': 'XMLHttpRequest',
                'X-CSRFToken': csrfToken
            },
        })
        .then(response => response.json())
        .then(data => {
            if(data.success){
                alert('Unable to submit form. Please try again.');
            } else {
                alert('Unable to submit form. Please try again.');
            }
        })
        .catch(error => {
            form.reset();
                // Show your MODAL popup
                var thankYouModal = new bootstrap.Modal(document.getElementById('thankYouModal'));
                thankYouModal.show();
        });
    });
});
</script>


<script>
document.addEventListener('DOMContentLoaded', function() {
    {% if message_sent %}
    // Show thank you modal if message_sent is True
    var thankYouModal = new bootstrap.Modal(document.getElementById('thankYouModal'));
    thankYouModal.show();
    {% endif %}
});
</script>
<script>
document.addEventListener('DOMContentLoaded', function() {
    const minusBtn = document.querySelector('.minus-btn');
    const plusBtn = document.querySelector('.plus-btn');
    const travellerCount = document.querySelector('.traveller-count');
    const travellersInput = document.getElementById('travellers');
    
    let count = 1;
    
    // Initialize with default value
    travellersInput.value = count;
    
    minusBtn.addEventListener('click', function(e) {
        e.preventDefault();
        if (count > 1) {
            count--;
            updateTravellerCount();
        }
    });
    
    plusBtn.addEventListener('click', function(e) {
        e.preventDefault();
        count++;
        updateTravellerCount();
    });
    
    function updateTravellerCount() {
        travellerCount.textContent = count;
        travellersInput.value = count; // Store just the number
    }
});

function submitAppointmentForm() {
    const visaSelect = document.getElementById('visa');
    const servicesSelect = document.getElementById('services');
    const locationSelect = document.getElementById('appointmentLocation');
    const travellersValue = document.querySelector('.traveller-count').textContent;
    
    // Get all payment amounts
    const payNowAmount = document.getElementById('payNowAmount').textContent;
    const ProcessingFees = document.getElementById('ProcessingFees').textContent;
    const ExpressDate = document.getElementById('ExpressDate').textContent;
    const payLaterAmount = document.getElementById('payLaterAmount').textContent;
    const totalAmount = document.getElementById('totalAmount').textContent;

    if (!visaSelect.value) {
        alert('Please select a visa type');
        return;
    }

    // Construct URL with all parameters
    const url = `/appointment_details/?` + 
        `visa_type=${encodeURIComponent(visaSelect.value)}&` +
        `service=${encodeURIComponent(servicesSelect.value)}&` +
        `location=${encodeURIComponent(locationSelect.value)}&` +
        `travelers=${encodeURIComponent(travellersValue)}&` +
        `payNowAmount=${encodeURIComponent(payNowAmount)}&` +
        `ProcessingFees=${encodeURIComponent(ProcessingFees)}&` +
        `ExpressDate=${encodeURIComponent(ExpressDate)}&` +
        `payLaterAmount=${encodeURIComponent(payLaterAmount)}&` +
        `totalAmount=${encodeURIComponent(totalAmount)}`;
    
    window.location.href = url;
}
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const chatbotContainer = document.getElementById('chatbot-container');
    const chatbotToggle = document.getElementById('chatbot-toggle');
    const chatbotClose = document.getElementById('chatbot-close');
    const chatbotMinimize = document.getElementById('chatbot-minimize');
    const chatbotMessages = document.getElementById('chatbot-messages');
    const chatbotUserInput = document.getElementById('chatbot-user-input');
    const chatbotSend = document.getElementById('chatbot-send');
    
    let isChatOpen = false;
    let userInteracted = false;
    let notificationDot = chatbotToggle.querySelector('.rounded-circle');

    // Auto-show greeting after 3 seconds if user hasn't interacted
    setTimeout(() => {
        if (!userInteracted) {
            showNotification();
            addMessage("Hi there! ðŸ‘‹ How can I help you today?", 'bot');
        }
    }, 3000);

    // Toggle chat window
    chatbotToggle.addEventListener('click', function() {
        userInteracted = true;
        hideNotification();
        chatbotToggle.classList.remove('chatbot-pulse');
        
        isChatOpen = !isChatOpen;
        if (isChatOpen) {
            chatbotContainer.classList.add('active');
            
            // Add welcome message when first opening
            if (chatbotMessages.children.length === 0) {
                setTimeout(() => {
                    addMessage("Hi there! ðŸ‘‹ How can I help you today?", 'bot');
                }, 300);
            }
        } else {
            chatbotContainer.classList.remove('active');
        }
    });
    
    // Close chat window
    chatbotClose.addEventListener('click', function() {
        chatbotContainer.classList.remove('active');
        isChatOpen = false;
    });
    
    // Minimize chat window
    chatbotMinimize.addEventListener('click', function() {
        chatbotContainer.classList.remove('active');
        isChatOpen = false;
    });
    
    // Send message
    function sendMessage() {
        const message = chatbotUserInput.value.trim();
        if (message === '') return;
        
        addMessage(message, 'user');
        chatbotUserInput.value = '';
        
        const typingIndicator = showTypingIndicator();
        
        fetch('/chat-api/', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded',
                'X-CSRFToken': getCookie('csrftoken'),
            },
            body: `message=${encodeURIComponent(message)}`
        })
        .then(response => {
            hideTypingIndicator(typingIndicator);
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            if (data.response) {
                addMessage(data.response, 'bot');
            } else {
                addMessage("Sorry, I didn't get a proper response.", 'bot');
            }
        })
        .catch(error => {
            hideTypingIndicator(typingIndicator);
            console.error('Error:', error);
            addMessage("Connection error. Please try again.", 'bot');
        });
    }
    
    // Send message on button click
    chatbotSend.addEventListener('click', sendMessage);
    
    // Send message on Enter key
    chatbotUserInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            sendMessage();
        }
    });
    
    // Helper function to add message to chat
    function addMessage(text, sender) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('message', `${sender}-message`);
        messageDiv.innerHTML = text.replace(/\n/g, '<br>');
        chatbotMessages.appendChild(messageDiv);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        
        // Show notification if chat is closed
        if (sender === 'bot' && !isChatOpen) {
            showNotification();
        }
    }
    
    // Typing indicator functions
    function showTypingIndicator() {
        const indicator = document.createElement('div');
        indicator.classList.add('message', 'bot-message', 'typing-indicator');
        indicator.innerHTML = '<span></span><span></span><span></span>';
        chatbotMessages.appendChild(indicator);
        chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        return indicator;
    }
    
    function hideTypingIndicator(indicator) {
        if (indicator && indicator.parentNode) {
            indicator.parentNode.removeChild(indicator);
        }
    }
    
    // Notification functions
    function showNotification() {
        notificationDot.style.display = 'block';
        chatbotToggle.classList.add('chatbot-pulse');
    }
    
    function hideNotification() {
        notificationDot.style.display = 'none';
        chatbotToggle.classList.remove('chatbot-pulse');
    }
    
    // Helper function to get CSRF token
    function getCookie(name) {
        let cookieValue = null;
        if (document.cookie && document.cookie !== '') {
            const cookies = document.cookie.split(';');
            for (let i = 0; i < cookies.length; i++) {
                const cookie = cookies[i].trim();
                if (cookie.substring(0, name.length + 1) === (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
});
</script>
{% endblock %}